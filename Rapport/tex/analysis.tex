\chapter{Analysis}
\label{sec:analysis}
A lot of considerations have gone into the development process of the application. The following chapter explains the considerations with the most impact on the application.

\section{Comparison}
It's been discussed if it should be possible to compare data from multiple wind farms at the same time, and how it should be done if that was the case.

One of the ideas was to let single click on a windmill put it in a `selected' state and a double click on a windmill would trigger the comparison view between all the windmills in the `selected' state.

The comparison view was also discussed to be either one chart, like the one implemented, but with all the data represented with different colors for each wind farm.
Another way of viewing them was to have multiple, small, draggable windows, each one representing a wind farm. This would allow browsing the data for each wind farm independent of each other, but also make it annoying when wanting to compare at the same time and having to manually move back or forth in time on each window.

\section{Time handling}
\todo[inline,color=red]{Rewrite}
It was considered to add a to and from field to limit the data

\section{Radar interaction}
A lot of considerations went into the interaction of the radars. The primary focus of the radar design was to make it intuitive.

A `play' button to start animation of all radars was considered, but after a test implementation it was found to give a weird feeling and was removed again.

All radars will play after a single click and pause the animation if clicked while an animation is running. A double click will reset the radar to the first image and display the image for an inactive radar.\todo[inline,color=red]{Rewrite to suggestions and present time. Possibly write with other radar related considerations}

\section{The data}
\subsection{Prioritizing}
\todo[inline,color=red]{Rewrite to suggestions and present time.}
The massive amount of data forced a prioritized list of the order of which the data types should be implemented.

After a quick look at the data, it was decided that the data from the wind farm was the first one to be implemented due to its simplicity.

Research showed that the wrk file was in a relatively easy format with decent documentation\footnote{See \cite{VRIS} for the documentation}, where as the NetCDF\footnote{Network Common Data Form - See \cite{netcdf}} format was very complex with little documentation\footnote{A framework for the file type was found but with very little documentation. See \url{http://www.unidata.ucar.edu/downloads/netcdf/netcdf-cxx/index.jsp}}.

\subsection{Choice of map}
There were two obvious map options - OpenStreetMap and Google maps. We\todo[fancyline,color=green]{Shouldnt use `we'} know Google maps from Google, Facebook, etc.. The previous weather project was using Google maps, so at the beginning it was obvious that we were going to use Google maps.

\begin{table}[htbp]
\centering
\begin{tabular}{| l | l | l |}
\hline
& \textbf{OpenStreetMap} & \textbf{Google maps} \\
\hline
\textbf{Price} & Free & Commercial price \\
\hline
\textbf{View} & Standard & Standard, satellite and street view \\
\hline
\textbf{License} & ``CC BY-SA'' * & ``NAVTEQ'' / ``TANA'' ** \\
\hline
\textbf{API} & Yes & Yes \\
\hline
\end{tabular}
\caption{Comparing OpenStreetMap and Google maps}
\label{tab:osm_vs_google}
\end{table}
* Creative Commons Attribution-ShareAlike 2.0-license: Anyone can edit, open source (\url{https://creativecommons.org/licenses/by-sa/2.0/})

** Navteq North America LLC / Tele Atlas North America: Owned by multiple organisations, data i copyrighted (\url{http://maps.google.co.uk/help/legalnotices_maps.html})

\subsection{Management}
\todo[inline,color=red]{Use of PHP for site. C++ over PHP for parsing. Qt as C++}

\subsubsection{Database}
In the beginning of the project, it was determined that the given data files always should be parsed in real time, when needed on the frontend. During the analysis of how to handle the different data, however, it was quickly found that this solution would be clumsy to implement, inflexible and generally inefficient.
For proper data management a database was to be used. Because of the large quantity of the data per file (e.g. a csv single file contains over 72.000 rows), the size of the database can and will increase very rapidly if the application is used on regular basis, and this should be taken into consideration when designing it.

For safety reasons, the application should also contain user authentication in order to get certain administration privileges (such as file CRUD\footnote{Create, Read, Update and Delete. See \url{http://en.wikipedia.org/wiki/Create,_read,_update_and_delete}}. The database should therefore also handle data management for users.

\subsubsection{Timezones}
As an interactive world map with dynamic data sources has been used, timezones must be dealt with in order to show the proper data across the globe and get a consistent UX.

\subsubsection{Availability}
\todo[inline,color=red]{Suggestion that leads to API design}

\section{Graphical User Interface}
The graphical user interface for visualizing the data should be intuitive
\todo[inline,color=red]{Explain the considerations behind the GUI decisions}